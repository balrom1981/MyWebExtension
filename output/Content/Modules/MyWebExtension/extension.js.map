{"version":3,"file":"extension.js","sources":["../../../../src/EventHandlers/ValidateTextControlHandler.ts","../../../../src/EventHandlers/ValidateDateTimeControlHandler.ts","../../../../src/EventHandlers/ShowInformationAboutCardHandler.ts","../../../../src/Index.ts"],"sourcesContent":["import { MessageBox } from \"@docsvision/webclient/Helpers/MessageBox/MessageBox\";\r\nimport { TextBox } from \"@docsvision/webclient/Platform/TextBox\";\r\nimport { CancelableEventArgs } from \"@docsvision/webclient/System/CancelableEventArgs\";\r\nimport { Layout } from \"@docsvision/webclient/System/Layout\";\r\n\r\n\r\n\r\nexport function validateTextBoxControl(sender: Layout, args: CancelableEventArgs<any>) {\r\n    let textBox: TextBox = sender.controls.textBox1;\r\n\r\n    let controlText = textBox.params.value;\r\n    if (!controlText || controlText.length === 0) {\r\n        MessageBox.ShowWarning('Текст контрола пуст');\r\n        args.cancel();\r\n    }\r\n}","import { MessageBox } from \"@docsvision/webclient/Helpers/MessageBox/MessageBox\";\r\nimport { DateTimePicker } from \"@docsvision/webclient/Platform/DateTimePicker\";\r\nimport { CancelableEventArgs } from \"@docsvision/webclient/System/CancelableEventArgs\";\r\nimport { ICardSavingEventArgs } from \"@docsvision/webclient/System/ICardSavingEventArgs\";\r\nimport { Layout } from \"@docsvision/webclient/System/Layout\";\r\n\r\n\r\nexport function validateDateTimeControl(typeCtrl: DateTimePicker, args: CancelableEventArgs<ICardSavingEventArgs>) {\r\n\r\n  const layout = typeCtrl.layout;\r\n\r\n\r\n  let dateTimePicker1 = layout.controls.tryGet<DateTimePicker>(\"beginDate\");\r\n  let dateTimePicker2 = layout.controls.tryGet<DateTimePicker>(\"endDate2\");\r\n\r\n  if (!dateTimePicker1 || !dateTimePicker2) {\r\n    MessageBox.ShowWarning(\"Не задана одна из дат командировки\");\r\n    args.cancel;\r\n  }\r\n\r\n  \r\n  \r\n  if (dateTimePicker1.params.value>dateTimePicker2.params.value) {\r\n        MessageBox.ShowWarning(\"Дата начала командировки не может быть больше даты конца командировки\");\r\n        args.cancel;\r\n    }\r\n}","import { MessageBox } from \"@docsvision/webclient/Helpers/MessageBox/MessageBox\";\r\nimport { DateTimePicker } from \"@docsvision/webclient/Platform/DateTimePicker\";\r\nimport { Layout } from \"@docsvision/webclient/System/Layout\";\r\nimport { TextBox } from \"@docsvision/webclient/Platform/TextBox\";\r\nimport { $MessageBox } from \"@docsvision/webclient/System/$MessageBox\";\r\nimport { CustomButton } from \"@docsvision/webclient/Platform/CustomButton\";\r\n\r\n\r\nexport function showInformationAboutCard(typeCtrl: CustomButton) {\r\n\r\n  const layout = typeCtrl.layout;\r\n  const messageBoxSvc = layout.getService($MessageBox);\r\n\r\n\r\n  let nameOfCard = layout.controls.tryGet<TextBox>(\"documentName1\").params.value;\r\n  let dateTimePicker1 = layout.controls.tryGet<DateTimePicker>(\"regDate1\").params.value;\r\n  let dateTimePicker2 = layout.controls.tryGet<DateTimePicker>(\"beginDate\").params.value;\r\n  let dateTimePicker3 = layout.controls.tryGet<DateTimePicker>(\"endDate2\").params.value;\r\n  let description = layout.controls.tryGet<TextBox>(\"textBox1\").params.value;\r\n\r\n  messageBoxSvc.showInfo('Название карточки -'+nameOfCard+'\\nДата создания - /'+dateTimePicker1+'\\nДата с - '+dateTimePicker2 +\r\n    '\\nДата по - '+dateTimePicker3+'\\nОснование для поездки - '+description);\r\n\r\n  \r\n}","﻿import * as ValidateTextControlHandler from \"./EventHandlers/ValidateTextControlHandler\";\r\nimport * as ValidateDateTimeControlHandler from \"./EventHandlers/ValidateDateTimeControlHandler\";\r\nimport * as ShowInformationAboutCardHandler from \"./EventHandlers/ShowInformationAboutCardHandler\";\r\nimport { extensionManager } from \"@docsvision/webclient/System/ExtensionManager\";\r\n\r\n\r\n// Главная входная точка всего расширения\r\n// Данный файл должен импортировать прямо или косвенно все остальные файлы, \r\n// чтобы rollup смог собрать их все в один бандл.\r\n\r\n// Регистрация расширения позволяет корректно установить все\r\n// обработчики событий, сервисы и прочие сущности web-приложения.\r\nextensionManager.registerExtension({\r\n    name: \"MyWebExtension\",\r\n    version: \"1.0\",\r\n    globalEventHandlers: [ \r\n        ValidateTextControlHandler,\r\n        ValidateDateTimeControlHandler,\r\n        ShowInformationAboutCardHandler\r\n     ],\r\n    layoutServices: [],\r\n    controls: []\r\n})"],"names":["MessageBox","$MessageBox","extensionManager"],"mappings":";;aAOgB,sBAAsB,CAAC,MAAc,EAAE,IAA8B;QACjF,IAAI,OAAO,GAAY,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAEhD,IAAI,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;QACvC,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1CA,qBAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;YAC9C,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;IACL;;;;;;;aCRgB,uBAAuB,CAAC,QAAwB,EAAE,IAA+C;QAE/G,IAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;QAG/B,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAiB,WAAW,CAAC,CAAC;QAC1E,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAiB,UAAU,CAAC,CAAC;QAEzE,IAAI,CAAC,eAAe,IAAI,CAAC,eAAe,EAAE;YACxCA,qBAAU,CAAC,WAAW,CAAC,oCAAoC,CAAC,CAAC;YAC7D,IAAI,CAAC,MAAM,CAAC;SACb;QAID,IAAI,eAAe,CAAC,MAAM,CAAC,KAAK,GAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE;YACzDA,qBAAU,CAAC,WAAW,CAAC,uEAAuE,CAAC,CAAC;YAChG,IAAI,CAAC,MAAM,CAAC;SACf;IACL;;;;;;;aClBgB,wBAAwB,CAAC,QAAsB;QAE7D,IAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC/B,IAAM,aAAa,GAAG,MAAM,CAAC,UAAU,CAACC,uBAAW,CAAC,CAAC;QAGrD,IAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAU,eAAe,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QAC/E,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAiB,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACtF,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAiB,WAAW,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACvF,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAiB,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACtF,IAAI,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAU,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QAE3E,aAAa,CAAC,QAAQ,CAAC,qBAAqB,GAAC,UAAU,GAAC,qBAAqB,GAAC,eAAe,GAAC,aAAa,GAAC,eAAe;YACzH,cAAc,GAAC,eAAe,GAAC,4BAA4B,GAAC,WAAW,CAAC,CAAC;IAG7E;;;;;;;IClBA;IACA;IACA;IAEA;IACA;AACAC,qCAAgB,CAAC,iBAAiB,CAAC;QAC/B,IAAI,EAAE,gBAAgB;QACtB,OAAO,EAAE,KAAK;QACd,mBAAmB,EAAE;YACjB,0BAA0B;YAC1B,8BAA8B;YAC9B,+BAA+B;SACjC;QACF,cAAc,EAAE,EAAE;QAClB,QAAQ,EAAE,EAAE;KACf,CAAC;;;;;;"}